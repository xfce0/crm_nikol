# CRM System - Nikolaev Studio

## –û–ø–∏—Å–∞–Ω–∏–µ
CRM —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏, –∑–∞–¥–∞—á–∞–º–∏, –∫–ª–∏–µ–Ω—Ç–∞–º–∏, —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ –∏ –∫–æ–º–∞–Ω–¥–æ–π. –í–∫–ª—é—á–∞–µ—Ç –≤–µ–±-–∞–¥–º–∏–Ω–∫—É –Ω–∞ React –∏ –±—ç–∫–µ–Ω–¥ –Ω–∞ FastAPI.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
–°–†–ú –†–ï–ê–ö–¢/
‚îú‚îÄ‚îÄ app/                          # Backend (Python/FastAPI)
‚îÇ   ‚îú‚îÄ‚îÄ admin/                    # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routers/              # API —Ä–æ—É—Ç–µ—Ä—ã (endpoints)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py           # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ projects.py       # –ü—Ä–æ–µ–∫—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tasks.py          # –ó–∞–¥–∞—á–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clients.py        # –ö–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deals.py          # –°–¥–µ–ª–∫–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ leads.py          # –õ–∏–¥—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ finance.py        # –§–∏–Ω–∞–Ω—Å—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hosting.py        # –•–æ—Å—Ç–∏–Ω–≥/—Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contractors.py    # –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ documents.py      # –î–æ–∫—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chats.py          # –ß–∞—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications.py  # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ portfolio.py      # –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ revisions.py      # –†–µ–≤–∏–∑–∏–∏/–ø—Ä–∞–≤–∫–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reports.py        # –û—Ç—á—ë—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.py          # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ static/               # –°—Ç–∞—Ç–∏–∫–∞ (–±–∏–ª–¥ React)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assets/           # JS/CSS —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.html        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ SPA
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ templates/            # Jinja2 —à–∞–±–ª–æ–Ω—ã (legacy)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/           # Middleware (auth, roles)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.py                # –ì–ª–∞–≤–Ω–æ–µ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ core/                     # –Ø–¥—Ä–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py           # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security.py           # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ database/                 # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py             # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ migrations/           # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ config/                   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.py           # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ production.py         # –ü—Ä–æ–¥–∞–∫—à–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ services/                 # –°–µ—Ä–≤–∏—Å—ã (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, etc)
‚îÇ
‚îú‚îÄ‚îÄ admin-react/                  # Frontend (React/TypeScript)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/                # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx     # –î–∞—à–±–æ—Ä–¥
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Projects.tsx      # –ü—Ä–æ–µ–∫—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Tasks.tsx         # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TasksArchive.tsx  # –ê—Ä—Ö–∏–≤ –∑–∞–¥–∞—á
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Clients.tsx       # –ö–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Leads.tsx         # –õ–∏–¥—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Deals.tsx         # –°–¥–µ–ª–∫–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Finance.tsx       # –§–∏–Ω–∞–Ω—Å—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Hosting.tsx       # –•–æ—Å—Ç–∏–Ω–≥
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Contractors.tsx   # –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/           # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/           # Layout, Sidebar, Header
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ projects/         # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tasks/            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–¥–∞—á
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ common/           # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/                  # API –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tasks.ts          # API –∑–∞–¥–∞—á
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ projects.ts       # API –ø—Ä–æ–µ–∫—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contexts/             # React –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.tsx   # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ThemeContext.tsx  # –¢–µ–º—ã (—Ü–≤–µ—Ç/–ß–ë)
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ menuConfig.ts     # –ú–µ–Ω—é –∏ —Ä–æ–ª–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.ts         # API URL
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/             # –°–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ api.ts            # Axios –∏–Ω—Å—Ç–∞–Ω—Å
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ package.json              # NPM –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ vite.config.ts            # Vite –∫–æ–Ω—Ñ–∏–≥
‚îÇ   ‚îú‚îÄ‚îÄ tailwind.config.js        # Tailwind CSS
‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json             # TypeScript –∫–æ–Ω—Ñ–∏–≥
‚îÇ
‚îú‚îÄ‚îÄ migrations/                   # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (–æ—Ç–¥–µ–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ backups/                      # –ë—ç–∫–∞–ø—ã –ë–î
‚îú‚îÄ‚îÄ uploads/                      # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ logs/                         # –õ–æ–≥–∏
‚îÇ
‚îú‚îÄ‚îÄ admin_panel.db                # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ requirements.txt              # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ run_admin.py                  # –¢–æ—á–∫–∞ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
```

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Python 3.10+**
- **FastAPI** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **SQLAlchemy** - ORM
- **SQLite** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ PostgreSQL)
- **Uvicorn** - ASGI —Å–µ—Ä–≤–µ—Ä

### Frontend
- **React 18** + **TypeScript**
- **Vite** - —Å–±–æ—Ä—â–∏–∫
- **Tailwind CSS** - —Å—Ç–∏–ª–∏
- **Axios** - HTTP –∫–ª–∏–µ–Ω—Ç
- **Lucide React** - –∏–∫–æ–Ω–∫–∏

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ / —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞
```bash
# –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å –∞—Ä—Ö–∏–≤
tar -xzvf CRM_PROJECT.tar.gz
cd "–°–†–ú –†–ï–ê–ö–¢"
```

### 2. Backend (Python)
```bash
# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏ venv\Scripts\activate  # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python3 run_admin.py
```
–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:8000`

### 3. Frontend (React) - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
cd admin-react

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
npm run dev
```
Dev —Å–µ—Ä–≤–µ—Ä –Ω–∞ `http://localhost:5173`

### 4. –°–±–æ—Ä–∫–∞ Frontend –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω
```bash
cd admin-react
npm run build
```
–ë–∏–ª–¥ —Å–æ–∑–¥–∞—Å—Ç—Å—è –≤ `admin-react/dist/`

–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –±–∏–ª–¥ –≤ —Å—Ç–∞—Ç–∏–∫—É –±—ç–∫–µ–Ω–¥–∞:
```bash
cp -r admin-react/dist/* app/admin/static/
```

---

## –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

| –†–æ–ª—å | –î–æ—Å—Ç—É–ø |
|------|--------|
| **OWNER** | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ä–∞–∑–¥–µ–ª–∞–º |
| **TEAMLEAD** | Dashboard, Projects, Tasks, Clients, Leads, Deals, Chats |
| **EXECUTOR** | My Tasks, Chats |
| **CLIENT** | Mini-app (–æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) |

---

## API Endpoints

–í—Å–µ API –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –ø—Ä–µ—Ñ–∏–∫—Å—É `/admin/api/`

### –û—Å–Ω–æ–≤–Ω—ã–µ endpoints:
- `GET /admin/api/projects/` - —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
- `GET /admin/api/tasks/` - —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
- `POST /admin/api/tasks/{id}/archive` - –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É
- `GET /admin/api/tasks/archive/list` - –∞—Ä—Ö–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
- `GET /admin/api/clients/` - –∫–ª–∏–µ–Ω—Ç—ã
- `GET /admin/api/users/executors` - –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏
- `POST /admin/auth/login` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

---

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- `admin_users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- `projects` - –ø—Ä–æ–µ–∫—Ç—ã
- `tasks` - –∑–∞–¥–∞—á–∏
- `task_comments` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞–¥–∞—á–∞–º
- `clients` - –∫–ª–∏–µ–Ω—Ç—ã
- `leads` - –ª–∏–¥—ã
- `deals` - —Å–¥–µ–ª–∫–∏
- `contractors` - –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏
- `finance_transactions` - —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `documents` - –¥–æ–∫—É–º–µ–Ω—Ç—ã
- `notifications` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –ë—ç–∫–∞–ø –ë–î:
```bash
cp admin_panel.db backups/admin_panel_backup_$(date +%Y%m%d).db
```

---

## –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### 1. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
```bash
scp -r "–°–†–ú –†–ï–ê–ö–¢" user@server:/var/www/crm/
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
cd /var/www/crm
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### 3. Systemd —Å–µ—Ä–≤–∏—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–°–æ–∑–¥–∞—Ç—å `/etc/systemd/system/crm.service`:
```ini
[Unit]
Description=CRM System
After=network.target

[Service]
User=www-data
WorkingDirectory=/var/www/crm
ExecStart=/var/www/crm/venv/bin/python run_admin.py
Restart=always

[Install]
WantedBy=multi-user.target
```

```bash
sudo systemctl enable crm
sudo systemctl start crm
```

### 4. Nginx –∫–æ–Ω—Ñ–∏–≥
```nginx
server {
    listen 80;
    server_name crm.yourdomain.com;

    location / {
        proxy_pass http://127.0.0.1:8001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ‚Üí –°–µ—Ä–≤–µ—Ä
1. –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ localhost
3. –°–æ–±—Ä–∞—Ç—å React: `npm run build`
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä: `scp -r ...`
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å: `sudo systemctl restart crm`

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞
–í `run_admin.py`:
```python
uvicorn.run(app, host="0.0.0.0", port=8001)
```

### API URL –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
–í `admin-react/src/config.ts`:
```typescript
export const API_BASE_URL = 'http://localhost:8000'
```

---

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–ê—Ä—Ö–∏–≤–∞—Ü–∏—è –∑–∞–¥–∞—á** - –∑–∞–¥–∞—á–∏ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è, –∞ –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ –∞—Ä—Ö–∏–≤ (–ø–æ–ª–µ `task_metadata.archived = true`)

2. **–¢–µ–º—ã** - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ü–≤–µ—Ç–Ω–∞—è –∏ —á—ë—Ä–Ω–æ-–±–µ–ª–∞—è —Ç–µ–º–∞ (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤ —à–∞–ø–∫–µ)

3. **Drag & Drop** - –∑–∞–¥–∞—á–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –º–µ–∂–¥—É –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏ –≤ Kanban-–¥–æ—Å–∫–µ

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ (Troubleshooting)

### –ü—Ä–æ–±–ª–µ–º–∞: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ (tasks: [], clients: [], projects: [])

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É –≤—Å–µ —Å—á–µ—Ç—á–∏–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 0
- API endpoint `/admin/api/tasks/` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"success": true, "tasks": []}`
- –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –µ—Å—Ç—å –∑–∞–ø–∏—Å–∏, –Ω–æ –æ–Ω–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

**–ü—Ä–∏—á–∏–Ω–∞:**
Python –∫—ç—à–∏—Ä—É–µ—Ç —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ `.pyc` —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö `__pycache__`. –ö–æ–≥–¥–∞ –∫–æ–¥ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –Ω–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –æ—á–∏—Å—Ç–∫–æ–π –∫—ç—à–∞, –æ–Ω –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –∫–æ–¥–∞.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Python
pkill -9 -f "python.*run_admin"

# 2. –û—á–∏—Å—Ç–∏—Ç—å –≤–µ—Å—å Python –∫—ç—à
cd "/Users/paulosipov/Downloads/–°–†–ú –†–ï–ê–ö–¢"
find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null
find . -name "*.pyc" -delete 2>/dev/null

# 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python run_admin.py
```

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞—á –¥–ª—è admin (–¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏)
curl -u "admin:admin" "http://localhost:8000/admin/api/tasks/" | python -m json.tool

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞—á –¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (–¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏)
curl -u "xfce0:xfce0" "http://localhost:8000/admin/api/tasks/" | python -m json.tool
```

**–õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:**
–í—Å–µ –ª–æ–≥–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `logs/`. –°–∞–º—ã–π —Å–≤–µ–∂–∏–π —Ñ–∞–π–ª –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∫–æ–º–∞–Ω–¥–æ–π:

```bash
ls -lt logs/ | head -5
```

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ debug-—Å–æ–æ–±—â–µ–Ω–∏–π:

```bash
tail -f logs/app_YYYYMMDD_HHMMSS.log | grep "üîç"
```

---

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–¥–∞—á–∏ (Tasks):**
- –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö: 72 –∑–∞–¥–∞—á–∏
- –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö: ~40 (–ø–æ–ª–µ `task_metadata.archived = true`)
- **Owner (admin)** –≤–∏–¥–∏—Ç: –≤—Å–µ –Ω–µ–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (~32)
- **Executor (xfce0)** –≤–∏–¥–∏—Ç: —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –Ω–µ–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (~10)

**–ö–ª–∏–µ–Ω—Ç—ã –∏ –ü—Ä–æ–µ–∫—Ç—ã:**
- –¢–∞–∫–∂–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ —Å—Ç–∞—Ç—É—Å—É archived/active
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–æ 100 –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É (`per_page=100`)

**–ü–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤—Å–µ –ø–∞—Ä–æ–ª–∏ —Å–±—Ä–æ—à–µ–Ω—ã –ø–æ —Å—Ö–µ–º–µ `username:username`:
- admin:qwerty123 (–≤–ª–∞–¥–µ–ª–µ—Ü)
- xfce0:xfce0 (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å)
- daniltechno:daniltechno (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å)
- gennic:gennic (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å)
- batsievoleg:batsievoleg (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å)
- –ò —Ç.–¥.

---

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–¢–µ–∫—É—â–∞—è –±–∞–∑–∞:**
```
/Users/paulosipov/Downloads/–°–†–ú –†–ï–ê–ö–¢/data/bot.db
```

**–§–æ—Ä–º–∞—Ç:** SQLite (–º–æ–∂–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —á–µ—Ä–µ–∑ DB Browser for SQLite)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:**
```bash
sqlite3 "data/bot.db" "SELECT COUNT(*) FROM tasks"
sqlite3 "data/bot.db" "SELECT COUNT(*) FROM clients"
sqlite3 "data/bot.db" "SELECT COUNT(*) FROM projects"
```

**–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env):**
```bash
DATABASE_URL=sqlite+aiosqlite:///./data/bot.db
```

**–í–ê–ñ–ù–û:** –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite, –∞ –ù–ï PostgreSQL. –í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL –ø—Ä–∏–≤–µ–¥—É—Ç –∫ –æ—à–∏–±–∫–∞–º.

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞: Nikolaev Studio
